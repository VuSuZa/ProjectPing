<!DOCTYPE html>
<html lang="en">
    <head>
        <title>webSockets and Socket.IO</title>
          <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
        <script type="text/javascript" src="/socket.io/socket.io.js"></script> 
        <!--The above library(/socket.io/socket.io.js) will be generated by socket.io module of server -->
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script> 

        <style type="text/css">

        #buttons {

text-align: center;
width: 500px;
margin-left: 0;
margin-right: 0;
  margin: auto;
  padding: 20px;

        }

        #btn1{


            border-radius: 50%;
    width: 140px;
    height: 140px; 
    background: red;
    float: left;
     

        }


        #btn2{


            border-radius: 50%;
    width: 140px;
    height: 140px; 
    background: blue;
    float: right;

        }


        #resetbtn {


            margin-top: 30px;
            width: 120px;
            position: relative;
            display: inline-block;
            height: 50px;
            padding-top: 20px;
            background: gray;
            color: white;
            text-align: center;
            font-family: 'Montserrat';
            font-size: 20px;




        }


    /*    #buttons:after {
  content: "";
  display: table;
  clear: both;
}*/





        </style>
    </head>
    <body>
        <form>
             
           
            <div id="content"></div> <!--This is where the data from the server is added-->

            <div id="buttons">

            <div id=btn1></div>

            <div id=btn2></div>


                <div id=resetbtn>RESET</div>



            </div>


         
 
        </form>
 
        <script type="text/javascript">
            var socket = io.connect("/"); 
            /*Initializing the connection with the server via websockets */
            socket.on("message",function(message){  
                /*
                    When server sends data to the client it will trigger "message" event on the client side , by 
                    using socket.on("message") , one cna listen for the ,message event and associate a callback to 
                    be executed . The Callback function gets the dat sent from the server 
                */
                console.log("Message from the server arrived")
                message = JSON.parse(message);
                console.log(message); /*converting the data into JS object */
                // $('#content').append('<div >'+message.data+'</div>'); /*appending the data on the page using Jquery */
            });
            $(function(){
                $('#btn1').click(function(){ /*listening to the button click using Jquery listener*/
                    var data = "1"
                    socket.send(JSON.stringify(data)); 
                    /*Data can be sent to server very easily by using socket.send() method 
                    The data has to be changed to a JSON before sending
                                          it (JSON.stringify() does this job )*/
                    /* This triggers a message event on the server side 
                    and the event handler obtains the data sent */ 
 
                    // $('#message').val('');
                    //Emptying the text box value using jquery 
 
                });


            });


            $(function(){
                $('#btn2').click(function(){ /*listening to the button click using Jquery listener*/
                    var data = "0"
                    socket.send(JSON.stringify(data)); 
                });
            });


            $(function(){
                $('#resetbtn').click(function(){ /*listening to the button click using Jquery listener*/
                    var data = "2"
                    socket.send(JSON.stringify(data)); 
                });
            });
 
        </script>
    </body>
</html>